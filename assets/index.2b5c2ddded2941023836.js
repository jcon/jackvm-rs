(()=>{"use strict";var e,n,t,r,o,_={160:(e,n,t)=>{t.a(e,(async e=>{t.d(n,{io:()=>o.io});var r=t(314),o=t(304),_=e([o,r]);[o,r]=_.then?await _:_}))},304:(e,n,t)=>{t.a(e,(async r=>{t.d(n,{io:()=>T,G6:()=>L,ug:()=>F,r1:()=>I,F0:()=>M,h4:()=>$,XP:()=>P,m_:()=>D,h9:()=>H,Dz:()=>R,kF:()=>q,wp:()=>J,NI:()=>W,Cf:()=>G,AT:()=>N,Vl:()=>B,S0:()=>X,SE:()=>z,wl:()=>U,jm:()=>V,GJ:()=>K,Gr:()=>Q,O8:()=>Y,jL:()=>Z,Rs:()=>ee,XJ:()=>ne,HQ:()=>te,Mw:()=>re,nM:()=>oe,$2:()=>_e,I1:()=>ae,Ic:()=>ce,dr:()=>ie,Zt:()=>ue,M1:()=>le,fY:()=>fe,Or:()=>se,x3:()=>de,eK:()=>be});var o=t(314);e=t.hmd(e);var _=r([o]);o=(_.then?await _:_)[0];const a=new Array(32).fill(void 0);function c(e){return a[e]}a.push(void 0,null,!0,!1);let i=a.length;function u(e){const n=c(e);return function(e){e<36||(a[e]=i,i=e)}(e),n}let l=0,f=null;function s(){return null!==f&&f.buffer===o.memory.buffer||(f=new Uint8Array(o.memory.buffer)),f}let d=new("undefined"==typeof TextEncoder?(0,e.require)("util").TextEncoder:TextEncoder)("utf-8");const b="function"==typeof d.encodeInto?function(e,n){return d.encodeInto(e,n)}:function(e,n){const t=d.encode(e);return n.set(t),{read:e.length,written:t.length}};function g(e,n,t){if(void 0===t){const t=d.encode(e),r=n(t.length);return s().subarray(r,r+t.length).set(t),l=t.length,r}let r=e.length,o=n(r);const _=s();let a=0;for(;a<r;a++){const n=e.charCodeAt(a);if(n>127)break;_[o+a]=n}if(a!==r){0!==a&&(e=e.slice(a)),o=t(o,r,r=a+3*e.length);const n=s().subarray(o+a,o+r);a+=b(e,n).written}return l=a,o}let w=null;function p(){return null!==w&&w.buffer===o.memory.buffer||(w=new Int32Array(o.memory.buffer)),w}let m=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});function h(e,n){return m.decode(s().subarray(e,e+n))}function y(e){i===a.length&&a.push(a.length+1);const n=i;return i=a[n],a[n]=e,n}function v(e){return null==e}m.decode();let x=null;function j(e){const n=typeof e;if("number"==n||"boolean"==n||null==e)return`${e}`;if("string"==n)return`"${e}"`;if("symbol"==n){const n=e.description;return null==n?"Symbol":`Symbol(${n})`}if("function"==n){const n=e.name;return"string"==typeof n&&n.length>0?`Function(${n})`:"Function"}if(Array.isArray(e)){const n=e.length;let t="[";n>0&&(t+=j(e[0]));for(let r=1;r<n;r++)t+=", "+j(e[r]);return t+="]",t}const t=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(!(t.length>1))return toString.call(e);if(r=t[1],"Object"==r)try{return"Object("+JSON.stringify(e)+")"}catch(e){return"Object"}return e instanceof Error?`${e.name}: ${e.message}\n${e.stack}`:r}function E(e,n,t,r){const _={a:e,b:n,cnt:1,dtor:t},a=(...e)=>{_.cnt++;const n=_.a;_.a=0;try{return r(n,_.b,...e)}finally{0==--_.cnt?o.__wbindgen_export_2.get(_.dtor)(n,_.b):_.a=n}};return a.original=_,a}function k(e,n){o._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hd46a2e030d3b5abd(e,n)}function S(e,n,t){o._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h89b4933cca0db413(e,n,y(t))}let O=32;function C(e){return function(){try{return e.apply(this,arguments)}catch(e){o.__wbindgen_exn_store(y(e))}}}let A=null;class T{static __wrap(e){const n=Object.create(T.prototype);return n.ptr=e,n}free(){const e=this.ptr;this.ptr=0,o.__wbg_jackvmplayer_free(e)}constructor(e,n){try{var t=o.jackvmplayer_new(y(e),function(e){if(1==O)throw new Error("out of js stack");return a[--O]=e,O}(n));return T.__wrap(t)}finally{a[O++]=void 0}}load(e){var n=g(e,o.__wbindgen_malloc,o.__wbindgen_realloc),t=l;o.jackvmplayer_load(this.ptr,n,t)}addHaltListener(e){o.jackvmplayer_addHaltListener(this.ptr,y(e))}isStopped(){return 0!==o.jackvmplayer_isStopped(this.ptr)}restart(){o.jackvmplayer_restart(this.ptr)}peek(e){return o.jackvmplayer_peek(this.ptr,e)}toggleRun(){o.jackvmplayer_toggleRun(this.ptr)}}const L=function(e){const n=u(e).original;return 1==n.cnt--&&(n.a=0,!0)},F=function(e){u(e)},I=function(e,n){const t=c(n);var r=g(JSON.stringify(void 0===t?null:t),o.__wbindgen_malloc,o.__wbindgen_realloc),_=l;p()[e/4+1]=_,p()[e/4+0]=r},M=function(e,n){alert(h(e,n))},$=function(e,n){return y(h(e,n))},P=function(e){return void 0===c(e)},D=function(e){return y(c(e))},H=function(){return y(new Error)},R=function(e,n){var t=g(c(n).stack,o.__wbindgen_malloc,o.__wbindgen_realloc),r=l;p()[e/4+1]=r,p()[e/4+0]=t},q=function(e,n){try{console.error(h(e,n))}finally{o.__wbindgen_free(e,n)}},J=function(e){return c(e)instanceof Window},W=function(e){var n=c(e).document;return v(n)?0:y(n)},G=C((function(e,n){return c(e).requestAnimationFrame(c(n))})),N=function(e){var n=c(e).body;return v(n)?0:y(n)},B=C((function(e,n,t){return y(c(e).createElement(h(n,t)))})),X=C((function(e,n,t,r){c(e).addEventListener(h(n,t),c(r))})),z=C((function(e,n,t){return y(new ImageData((r=e,_=n,(null!==A&&A.buffer===o.memory.buffer||(A=new Uint8ClampedArray(o.memory.buffer)),A).subarray(r/1,r/1+_)),t>>>0));var r,_})),U=function(e){console.log(c(e))},V=function(e){return c(e)instanceof HTMLElement},K=function(e){return c(e)instanceof CanvasRenderingContext2D},Q=C((function(e,n,t,r){c(e).putImageData(c(n),t,r)})),Y=C((function(e,n){return y(c(e).appendChild(c(n)))})),Z=function(e){return c(e)instanceof HTMLCanvasElement},ee=function(e,n){c(e).width=n>>>0},ne=function(e,n){c(e).height=n>>>0},te=C((function(e,n,t){var r=c(e).getContext(h(n,t));return v(r)?0:y(r)})),re=C((function(e,n){return y(Reflect.get(c(e),c(n)))})),oe=C((function(e,n){return y(c(e).call(c(n)))})),_e=function(e,n){return y(new Function(h(e,n)))},ae=C((function(){return y(self.self)})),ce=C((function(){return y(window.window)})),ie=C((function(){return y(globalThis.globalThis)})),ue=C((function(){return y(t.g.global)})),le=function(e,n){const t=c(n);var r="number"==typeof t?t:void 0;(null!==x&&x.buffer===o.memory.buffer||(x=new Float64Array(o.memory.buffer)),x)[e/8+1]=v(r)?0:r,p()[e/4+0]=!v(r)},fe=function(e,n){var t=g(j(c(n)),o.__wbindgen_malloc,o.__wbindgen_realloc),r=l;p()[e/4+1]=r,p()[e/4+0]=t},se=function(e,n){throw new Error(h(e,n))},de=function(e,n,t){return y(E(e,n,43,k))},be=function(e,n,t){return y(E(e,n,43,S))}}))},314:(e,n,t)=>{var r=([r])=>t.v(n,e.id,"61be1f6341de2217f26f",{"./jackvm_player_bg.js":{__wbindgen_cb_drop:r.G6,__wbindgen_object_drop_ref:r.ug,__wbindgen_json_serialize:r.r1,__wbg_alert_306f3aa88b082263:r.F0,__wbindgen_string_new:r.h4,__wbindgen_is_undefined:r.XP,__wbindgen_object_clone_ref:r.m_,__wbg_new_59cb74e423758ede:r.h9,__wbg_stack_558ba5917b466edd:r.Dz,__wbg_error_4bb6c2a97407129a:r.kF,__wbg_instanceof_Window_49f532f06a9786ee:r.wp,__wbg_document_c0366b39e4f4c89a:r.NI,__wbg_requestAnimationFrame_ef0e2294dc8b1088:r.Cf,__wbg_body_c8cb19d760637268:r.AT,__wbg_createElement_99351c8bf0efac6e:r.Vl,__wbg_addEventListener_6a37bc32387cb66d:r.S0,__wbg_newwithu8clampedarray_32a8c1cd1f7ae859:r.SE,__wbg_log_f2e13ca55da8bad3:r.wl,__wbg_instanceof_HtmlElement_ed44c8f443dbd619:r.jm,__wbg_instanceof_CanvasRenderingContext2d_1d38418d1d6c8b34:r.GJ,__wbg_putImageData_5f6666a81288bdcf:r.Gr,__wbg_appendChild_7c45aeccd496f2a5:r.O8,__wbg_instanceof_HtmlCanvasElement_7bd3ee7838f11fc3:r.jL,__wbg_setwidth_1d0e975feecff3ef:r.Rs,__wbg_setheight_7758ee3ff5c65474:r.XJ,__wbg_getContext_3db9399e6dc524ff:r.HQ,__wbg_get_85e0a3b459845fe2:r.Mw,__wbg_call_951bd0c6d815d6f1:r.nM,__wbg_newnoargs_7c6bd521992b4022:r.$2,__wbg_self_6baf3a3aa7b63415:r.I1,__wbg_window_63fc4027b66c265b:r.Ic,__wbg_globalThis_513fb247e8e4e6d2:r.dr,__wbg_global_b87245cd886d7113:r.Zt,__wbindgen_number_get:r.M1,__wbindgen_debug_string:r.fY,__wbindgen_throw:r.Or,__wbindgen_closure_wrapper131:r.x3,__wbindgen_closure_wrapper133:r.eK}});t.a(e,(e=>{var n=e([t(304)]);return n.then?n.then(r):r(n)}),1)},85:()=>{},473:(e,n,t)=>{t.a(e,(async e=>{var n=t(160),r=e([n]);n=(r.then?await r:r)[0];const o=document.getElementById("screen-container");let _=new n.io(o,{onColor:4294967295,offColor:255}),a=o.querySelector("canvas");["sm:w-512px","sm:h-256px","lg:w-1024px","lg:h-512px"].forEach((e=>{a.classList.add(e)})),document.querySelector("#editor").addEventListener("change",(e=>{updateProgram()}));let c=document.querySelector("#play-overlay");c.addEventListener("click",(e=>(console.log("player clicked"),_.isStopped()&&(_.restart(),c.classList.toggle("hidden")),!1))),_.addHaltListener((()=>{c.classList.toggle("hidden")})),window.dispatchEvent(new CustomEvent("JackVmPlayerLoaded",{detail:_}))}))}},a={};function c(e){if(a[e])return a[e].exports;var n=a[e]={id:e,loaded:!1,exports:{}};return _[e](n,n.exports,c),n.loaded=!0,n.exports}e="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",n="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",t=e=>{e&&(e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},r=e=>!--e.r&&e(),o=(e,n)=>e?e.push(n):r(n),c.a=(_,a,c)=>{var i,u,l,f=c&&[],s=_.exports,d=!0,b=!1,g=(n,t,r)=>{b||(b=!0,t.r+=n.length,n.map(((n,o)=>{n[e](t,r)})),b=!1)},w=new Promise(((e,n)=>{l=n,u=()=>{e(s),t(f),f=0}}));w[n]=s,w[e]=(e,n)=>{if(d)return r(e);i&&g(i,e,n),o(f,e),w.catch(n)},_.exports=w,a((_=>{if(!_)return u();var a,c;i=(_=>_.map((_=>{if(null!==_&&"object"==typeof _){if(_[e])return _;if(_.then){var a=[];_.then((e=>{c[n]=e,t(a),a=0}));var c={[e]:(e,n)=>{o(a,e),_.catch(n)}};return c}}return{[e]:e=>{r(e)},[n]:_}})))(_);var l=new Promise(((e,t)=>{(a=()=>e(c=i.map((e=>e[n])))).r=0,g(i,a,t)}));return a.r?l:c})).then(u,l),d=!1},c.d=(e,n)=>{for(var t in n)c.o(n,t)&&!c.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),c.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e;c.g.importScripts&&(e=c.g.location+"");var n=c.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var t=n.getElementsByTagName("script");t.length&&(e=t[t.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),c.p=e})(),c.v=(e,n,t,r)=>{var o=fetch(c.p+""+t+".module.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(o,r).then((n=>Object.assign(e,n.instance.exports))):o.then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,r))).then((n=>Object.assign(e,n.instance.exports)))},c(473),c(85)})();
//# sourceMappingURL=index.2b5c2ddded2941023836.js.map